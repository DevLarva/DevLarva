name: Update Credly Badges

on:
  workflow_dispatch: # 수동으로 실행 가능하게 함
  schedule:
    - cron: '0 0 * * *' # 매일 자정(UTC 기준)에 자동 실행

jobs:
  update-readme:
    name: Update Readme with Credly Badges
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Update Credly Badges
        # 특정 버전 번호 대신 @main을 사용하여 가장 최신 버전을 사용합니다.
        uses: eliharper/credly-readme-action@main
        with:
          credly_user: daehong-baek
          output_file: README.md
          sort_by: "newest"
